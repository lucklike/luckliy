## ðŸ˜± è‡ªå®šä¹‰è¯·æ±‚ä½“

è¯·æ±‚ä½“çš„æ ¼å¼ä¾èµ–äºŽè¯·æ±‚å¤´ä¸­çš„ `Content-Type`ã€‚å¸¸è§çš„è¯·æ±‚ä½“æ ¼å¼åŒ…æ‹¬ `JSON`ã€`è¡¨å•æ•°æ®`ã€`XML` ç­‰ï¼Œä½†æ˜¯å¦‚æžœè¿™äº›æ ¼å¼å‡ä¸æ»¡è¶³éœ€æ±‚
é‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚

ä¾‹å¦‚æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªç”¨äºŽä¼ è¾“è¡¨æ ¼æ•°æ®çš„æ•°æ®æ ¼å¼ï¼Œå°†`Content-Type`å®šä¹‰ä¸º`application/my-table`

1. æ•°æ®ä¸»ä½“ä¸ºä¸€ä¸ªè¡¨æ ¼
2. æ¯ä¸€è¡Œè¡¨ç¤ºä¸€è¡Œè¡¨è®°å½•ï¼Œå¤šä¸ªå­—æ®µä¹‹é—´ä½¿ç”¨`,,`æ¥è¿›è¡Œåˆ†å‰²ï¼Œå¤šä¸ªè¡¨è®°å½•ä¹‹é—´ä½¿ç”¨`æ¢è¡Œç¬¦`æ¥åˆ†å‰²
   
   ä¾‹å¦‚éœ€è¦æŒ‰ç…§ä¸Šé¢æ ¼å¼ä¼ è¾“å¦‚ä¸‹æ ¼å¼ï¼š

   | ID | USER_NAME | EMAIL          | AGE | SEX |
   |----|-----------|----------------|-----|-----|
   | 1  | Jack      | jack@qq.com    | 23  | 1   |
   | 2  | Lucy      | lucy@gmail.com | 18  | 0   |
   | 3  | Tom       | tom@qq.com     | 28  | 1   |
   | 4  | Karl      | karl@gmail.com | 35  | 1   |

   ---->
   
   ```text
   1,,Jack,,jack@qq.com,,23,,1
   2,,Lucy,,lucy@gmail.com,,18,,0
   3,,Tom,,tom@qq.com,,18,,1
   4,,Karl,,karl@gmail.com,,35,,1
   ```

### #ä½¿ç”¨`BodyObject`ä½œä¸ºå‚æ•°

```java
public interface CustomBodyApi {

   // æŽ¥å£å®šä¹‰
   @Post("http://localhost:8080/customBody")
   String customBody(BodyObject body);
}


/*
    æŽ¥å£è°ƒç”¨
    
    -->
    
    POST http://localhost:8080/customBody
    User-Agent: Lucky-HttpClient/3.0.1 (Java/1.8.0_432)
    Content-Type: application/my-table;charset=UTF-8

    1,,Jack,,jack@qq.com,,23,,1
    2,,Lucy,,lucy@gmail.com,,18,,0
    3,,Tom,,tom@qq.com,,18,,1
    4,,Karl,,karl@gmail.com,,35,,1
 */
@Test
public void tableBodyTest() {
   String mimeType = "application/my-table";
   String charset = "UTF-8";
   String context =
           "1,,Jack,,jack@qq.com,,23,,1\n" +
           "2,,Lucy,,lucy@gmail.com,,18,,0\n" +
           "3,,Tom,,tom@qq.com,,18,,1\n" +
           "4,,Karl,,karl@gmail.com,,35,,1";
   BodyObject tableBody = BodyObject.builder(mimeType, charset, context);
   luckyApi.customBody(tableBody);
}

```

### #ä½¿ç”¨`BodyObjectFactory`ä½œä¸ºå‚æ•°
ä¸Ž`BodyObject`ä¸åŒçš„æ˜¯`BodyObjectFactory`æ˜¯å»¶è¿Ÿè§£æžçš„ï¼Œåœ¨çœŸæ­£éœ€è¦è®¾ç½®è¯·æ±‚ä½“æ—¶è¿˜ä¼šè§£æžå¾—åˆ°`BodyObject`

```java
public interface CustomBodyApi {

   // æŽ¥å£å®šä¹‰
   @Post("http://localhost:8080/customBodyFactory")
   String customBodyFactory(BodyObjectFactory bodyFactory);
}


/*
    æŽ¥å£è°ƒç”¨
    
    -->
    
    POST http://localhost:8080/customBody
    User-Agent: Lucky-HttpClient/3.0.1 (Java/1.8.0_432)
    Content-Type: application/my-table;charset=UTF-8

    1,,Jack,,jack@qq.com,,23,,1
    2,,Lucy,,lucy@gmail.com,,18,,0
    3,,Tom,,tom@qq.com,,18,,1
    4,,Karl,,karl@gmail.com,,35,,1
 */
@Test
public void tableBodyTest() {
   luckyApi.customBodyFactory(() -> {
      String mimeType = "application/my-table";
      String charset = "UTF-8";
      String context =
              "1,,Jack,,jack@qq.com,,23,,1\n" +
              "2,,Lucy,,lucy@gmail.com,,18,,0\n" +
              "3,,Tom,,tom@qq.com,,18,,1\n" +
              "4,,Karl,,karl@gmail.com,,35,,1";
      return BodyObject.builder(mimeType, charset, context);
   });
}

```