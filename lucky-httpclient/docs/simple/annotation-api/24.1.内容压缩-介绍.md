## 🦆 内容解压缩

HTTP 内容压缩是指在客户端和服务器之间通过压缩数据来减少传输的数据量，提高网络带宽利用率和响应速度的技术。HTTP 内容压缩通常用于传输 HTML、CSS、JavaScript 和其他文本格式的数据。

**常见的 HTTP 内容压缩算法包括：**

- `Gzip`：最常用的压缩算法之一，能够有效地减少文本数据的大小。`Gzip` 是基于 `DEFLATE` 算法实现的。
- `Brotli`：由 Google 开发的压缩算法，通常比 `Gzip` 提供更好的压缩比。`Brotli` 在现代浏览器和 HTTP 服务器中得到了广泛的支持。
- `Deflate`：另一种压缩算法，基于 `LZ77 `和`哈夫曼编码`。尽管比` Gzip` 更少使用，但仍然支持。
- `Zstandard (zstd)`：由 Facebook 开发的压缩算法，压缩速度较快，压缩比优于 Gzip。

**如何工作**
1. **请求压缩**：客户端（浏览器或其他 HTTP 客户端）发送请求头时，会在 `Accept-Encoding` 字段中指定支持的压缩算法（如 `gzip`, `deflate`, `br` 等）。 例如：
    ```http request
    Accept-Encoding: gzip, deflate, br
    ```
2. **响应压缩**：服务器根据客户端的请求头中 `Accept-Encoding` 字段，选择支持的压缩算法，压缩响应数据并在 `Content-Encoding` 字段中返回所使用的压缩格式。例如：
    ```http request
    Content-Encoding: gzip
    ```
3. **客户端解压缩**：客户端根据 `Content-Encoding` 字段的值自动解压缩响应体。如果服务器使用的是 `Gzip` 或 `Brotli` 等常见压缩格式，现代浏览器会自动处理。

**优点**
- **减少传输数据量**：压缩可以大大减少响应数据的大小，从而节省带宽，尤其是对于文本数据。
- **提高加载速度**：通过减少传输时间，压缩可以显著加快页面加载速度。
- **减轻服务器负担**：虽然压缩会增加一定的 CPU 负载，但通常带来的带宽节省和加载时间优化超过了压缩带来的开销

**缺点**
- **CPU 负载**：压缩和解压缩过程需要额外的 CPU 资源，特别是当压缩比很高时。
