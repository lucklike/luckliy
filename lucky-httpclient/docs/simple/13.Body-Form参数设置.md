## ğŸ¤© Formå‚æ•°è®¾ç½®

---
Formå‚æ•°å³`Content-Type: application/x-www-form-urlencoded`çš„è¯·æ±‚ï¼Œä¸Queryå‚æ•°ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥key-valueçš„å½¢å¼ç»„ç»‡å‚æ•°
åä¸å‚æ•°å€¼ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨`&`ç¬¦å·è¿›è¡Œè¿æ¥ï¼Œä¸åŒä¹‹å¤„Queryå‚æ•°æ˜¯æ‹¼æ¥åœ¨URLä¸Šçš„ï¼Œè€ŒFormå‚æ•°åˆ™æ˜¯å†™åœ¨è¯·æ±‚ä½“ä¸­çš„ã€‚

---
### #ä½¿ç”¨`@FromParam`æ³¨è§£æ¥è®¾ç½®`Form`å‚æ•°

```java
/*
    formTest("Jack", 18, "jack@gmail.com");    
    
    -->
    
    POST http://localhost:8080/form
    User-Agent: Lucky-HttpClient/3.0.0 (Java/1.8.0_301)
    Content-Type: application/x-www-form-urlencoded
    
    name=Jack&age=18&email=jack@gmail.com
 */

@Post("http://localhost:8080/form")
String formTest(@FormParam String name, @FormParam Integer age, @FormParam String email);

/*
    å½“æ–¹æ³•å‚æ•°åˆ—è¡¨å¤§éƒ¨åˆ†éƒ½æ˜¯Formå‚æ•°æ—¶ï¼Œå¯ä»¥å°†@FormParamæ³¨è§£æåˆ°æ–¹æ³•ä¸Š, å¦‚æœæŸä¸ªå‚æ•°ä¸æ˜¯Formå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨@NotHttpParamæ¥æ’é™¤
    formTest2("Jack", 18, "jack@gmail.com", "ä¸æ˜¯Formå‚æ•°");    
    
    -->
    
    POST http://localhost:8080/form
    User-Agent: Lucky-HttpClient/3.0.0 (Java/1.8.0_301)
    Content-Type: application/x-www-form-urlencoded
    
    name=Jack&age=18&email=jack@gmail.com
 */
@FormParam
@Post("http://localhost:8080/form")
String formTest2(String name, Integer age, String email, @NotHttpParam String notFormParam);


// å¯ä»¥ä½¿ç”¨Mapæ¥æ‰¹é‡æ·»åŠ Formå‚æ•°  
@Post("http://localhost:8080/form")
String formTest3(@FormParam Map<String, Object> mapHeader);


// å½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡æ¥æ‰¹é‡æ·»åŠ Formå‚æ•°    
@Post("http://localhost:8080/form")
String formTest4(@FormParam FormEntity objectForm);
```

---

### #ä½¿ç”¨`@StaticForm`æ³¨è§£æ¥è®¾ç½®`Form`å‚æ•°

```java
@StaticForm({
    "name=#{p0}",                // ä½¿ç”¨ç´¢å¼•çš„æ–¹å¼å–å‚æ•°åˆ—è¡¨ä¸­çš„å€¼
    "age=#{age}",                // ä½¿ç”¨å‚æ•°åçš„æ–¹å¼å–å‚æ•°åˆ—è¡¨ä¸­çš„å€¼
    "email=#{email}",            // ä½¿ç”¨å‚æ•°åçš„æ–¹å¼å–å‚æ•°åˆ—è¡¨ä¸­çš„å€¼
    "test=Test-Form",            // å›ºå®šFormå‚æ•°
    "time=#{#time()}",           // æ‰§è¡ŒSpELå‡½æ•°
    "apiKey=${local.api.apiKey}" // å–ç¯å¢ƒå˜é‡ä¸­çš„é…ç½®
})
@Post("http://localhost:8080/form")
String formTest4(String name, Integer age, String email);
```
---
### #ä½¿ç”¨`@StaticFormBody`æ³¨è§£æ¥è®¾ç½®`Form`å‚æ•°
è¿™ç§æ–¹å¼ä¸`@StaticForm`ç±»ä¼¼ï¼Œä½†æ˜¯æ­¤ç§æ–¹å¼æ›´åŠ æ¥è¿‘HTTPçš„åŸå§‹æŠ¥æ–‡æ ¼å¼ï¼Œé…ç½®æ•´ä½“ä¸º`String`,å¤šä¸ªkey-valueä¹‹é—´éœ€è¦æ‰‹åŠ¨æ‹¼æ¥è¿æ¥ç¬¦`&`

```java
import com.luckyframework.httpclient.proxy.annotations.StaticFormBody;

@StaticFormBody(
    "name=#{p0}&" +
    "name=#{p0}&" +
    "email=#{email}&" +
    "test=Test-Form&" +
    "time=#{#time()}&" +
    "apiKey=${local.api.apiKey}"
)
@Post("http://localhost:8080/form")
String formTest4(String name, Integer age, String email);


// é…åˆå†…ç½®SpELå‡½æ•°#form()ä½¿ç”¨ï¼Œ#form()å‡½æ•°å¯ä»¥ç›´æ¥å°†å¯¹è±¡è½¬ä¸ºFormæ ¼å¼çš„å­—ç¬¦ä¸²
@StaticFormBody("#{#form(p0)}")
@Post("http://localhost:8080/form")
String formTest5(FormEntity objectForm);

// ç›´æ¥è¯»å–classpathä¸‹/form/test.formæ–‡ä»¶çš„å†…å®¹ä½œä¸ºFormå‚æ•°
@StaticFormBody("#{#read(#resource('classpath:/form/test.form'))}")
@Post("http://localhost:8080/form")
String formTest5();
```

